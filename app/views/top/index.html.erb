<aside class="sidebar">
  <ul>
    <li>
      <a href="#" class="img_01">予定</a>
    </li>
    <li>
      <a href="#" class="img_02">画像2</a>
    </li>
    <li>
      <a href="#" class="img_03">画像3</a>
    </li>
  </ul>
  <div class="button">
    <a href="#"></a>
  </div>
</aside>

<div class="calendar-container">
  <!-- <div class="calendar"> -->
    <!-- <span class="day-name">Mon</span>
    <span class="day-name">Tue</span>
    <span class="day-name">Wed</span>
    <span class="day-name">Thu</span>
    <span class="day-name">Fri</span>
    <span class="day-name">Sat</span>
    <span class="day-name">Sun</span>
    <div class="day day--disabled">30</div>
    <div class="day day--disabled">31</div>
    <div class="day">1</div>
    <div class="day">2</div>
    <div class="day">3</div>
    <div class="day">4</div>
    <div class="day">5</div>
    <div class="day">6</div>
    <div class="day">7</div>
    <div class="day">8</div>
    <div class="day">9</div>
    <div class="day">10</div>
    <div class="day">11</div>
    <div class="day">12</div>
    <div class="day">13</div>
    <div class="day">14</div>
    <div class="day">15</div>
    <div class="day">16</div>
    <div class="day">17</div>
    <div class="day">18</div>
    <div class="day">19</div>
    <div class="day">20</div>
    <div class="day">21</div>
    <div class="day">22</div>
    <div class="day">23</div>
    <div class="day">24</div>
    <div class="day">25</div>
    <div class="day">26</div>
    <div class="day">27</div>
    <div class="day">28</div>
    <div class="day">29</div>
    <div class="day">30</div>
    <div class="day">31</div>
    <div class="day day--disabled">1</div>
    <div class="day day--disabled">2</div>
    <section class="task task--warning">Projects</section>
    <section class="task task--danger">Design Sprint</section>
    <section class="task task--primary">Product Checkup 1
      <div class="task__detail">
        <h2>Product Checkup 1</h2>
        <p>15-17th November</p>
      </div>
    </section>
    <section class="task task--info">Product Checkup 2</section> -->
  <!-- </div> -->
</div>
<script type="text/javascript">
$(function() {
  var duration = 500;
  var $sidebar = $('.sidebar');
  var $button = $('.button a');

  $button.addClass('open');
  $button.click(function() {
    $button.toggleClass('close');
    $button.removeClass('open');
    if ($button.hasClass('close')) {
      $sidebar.stop().animate({
        left: '0'
      }, duration, 'easeOutQuint');
    } else {
      $sidebar.stop().animate({
        left: '-100px'
      }, duration, 'easeOutQuint');
      $button.addClass('open');
    };
  });
});
</script>

<script type="text/javascript">
const weeks = ['月', '火', '水', '木', '金', '土', '日',]
const date = new Date()
let year = date.getFullYear()
let month = date.getMonth() + 1
const config = {
  show: 1,
}

function showCalendar(year, month) {
  for ( i = 0; i < config.show; i++) {
    const calendarHtml = createCalendar(year, month)
    $('.calendar-container').html(calendarHtml)

    month++
    if (month > 12) {
      year++
      month = 1
    }
  }
}

function createCalendar(year, month) {
  const endDayCount = new Date(year, month,  0).getDate() // 月の末日
  const lastMonthendDayCount = new Date(year, month - 2, 0).getDate() // 前月の末日
  const startDay = new Date(year, month - 1, 1).getDay() // 月の最初の日の曜日を取得
  let dayCount = 1 // 日にちのカウント
  let calendarHtml = '' // HTMLを組み立てる変数

  calendarHtml += '<div class="calendar-header">';
    calendarHtml += `<h1>${year}年 ${month}月</h1>`;
  calendarHtml += '</div>';

  // 曜日の行を作成
  calendarHtml += '<div class="calendar">'
  for (let i = 0; i < weeks.length; i++) {
    calendarHtml += '<span class="day-name">' + weeks[i] + '</span>'
  }


  // <div class="day day--disabled">31</div>
  // <div class="day">1</div>
  for (let w = 0; w < 6; w++) {

    for (let d = 0; d < 7; d++) {
      if (w == 0 && d < startDay) {
        // 1行目で1日の曜日の前
        let num = lastMonthendDayCount - startDay + d + 1
        calendarHtml += '<div class="day day--disabled">' + num + '</div>'
      } else if (dayCount > endDayCount) {
        // 末尾の日数を超えた
        let num = dayCount - endDayCount
        calendarHtml += '<div class="day day--disabled">' + num + '</div>'
        dayCount++
      } else {
        calendarHtml += `<div class="day" data-date="${year}/${month}/${dayCount}">${dayCount}</div>`
        dayCount++
      }
    }
  }
  calendarHtml += '<section class="task task--warning">Projects</section>'
  calendarHtml += '</div>'

  return calendarHtml;
}

showCalendar(year, month)
</script>
